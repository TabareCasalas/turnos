(function(){"use strict";var e={5343:function(e,n,t){var o=t(5130),r=t(6768),i=t(4232);const a={class:"min-h-screen bg-gray-100 p-4"},s={class:"text-center mb-4"};function c(e,n,t,o,c,u){const l=(0,r.g2)("SelectorProduccion"),d=(0,r.g2)("CalendarioTurnos");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("div",s,[c.produccion?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:n[0]||(n[0]=(...e)=>u.resetProduccion&&u.resetProduccion(...e)),class:"mt-4 px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-700"}," Producción "+(0,i.v_)(c.produccion),1)):(0,r.Q3)("",!0)]),c.produccion?((0,r.uX)(),(0,r.Wv)(d,{key:1,produccion:c.produccion},null,8,["produccion"])):((0,r.uX)(),(0,r.Wv)(l,{key:0,onSeleccionar:u.guardarProduccion},null,8,["onSeleccionar"]))])}const u={class:"flex flex-col items-center justify-center min-h-screen text-center"},l={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},d=["onClick"];function h(e,n,t,o,a,s){return(0,r.uX)(),(0,r.CE)("div",u,[n[0]||(n[0]=(0,r.Lk)("h1",{class:"text-2xl font-bold mb-6"},"Seleccionar Producción",-1)),(0,r.Lk)("div",l,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(4,(n=>(0,r.Lk)("button",{key:n,onClick:t=>e.$emit("seleccionar",n),class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl shadow-md transition"}," Producción "+(0,i.v_)(n),9,d))),64))])])}var g={name:"SelectorProduccion"},m=t(1241);const f=(0,m.A)(g,[["render",h]]);var p=f;const b={class:"md:col-span-2"},v={class:"flex justify-center items-center gap-1 mb-4 flex-wrap text-sm sm:text-base"},S={class:"text-base sm:text-lg font-semibold text-center px-2 w-[155px] text-ellipsis overflow-hidden whitespace-nowrap"},k={class:"grid grid-cols-7 gap-2 text-center text-sm font-semibold"},w={class:"grid grid-cols-7 gap-2 mt-2 text-center"},y=["onClick"],D={key:0,class:"mt-6 text-sm border-t pt-4"},P={key:0};function T(e,n,t,a,s,c){return(0,r.uX)(),(0,r.CE)("div",{class:"max-w-6xl mx-auto p-4 grid grid-cols-1 md:grid-cols-3 gap-4",onTouchstart:n[4]||(n[4]=(...e)=>c.handleTouchStart&&c.handleTouchStart(...e)),onTouchmove:n[5]||(n[5]=(...e)=>c.handleTouchMove&&c.handleTouchMove(...e)),onTouchend:n[6]||(n[6]=(...e)=>c.handleTouchEnd&&c.handleTouchEnd(...e))},[(0,r.Lk)("div",b,[(0,r.Lk)("div",v,[(0,r.Lk)("button",{onClick:n[0]||(n[0]=(...e)=>c.anioAnterior&&c.anioAnterior(...e)),class:"w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center bg-gray-300 rounded hover:bg-gray-400"},"««"),(0,r.Lk)("button",{onClick:n[1]||(n[1]=(...e)=>c.mesAnterior&&c.mesAnterior(...e)),class:"w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center bg-gray-300 rounded hover:bg-gray-400"},"«"),(0,r.Lk)("span",S,(0,i.v_)(c.mesNombre)+" "+(0,i.v_)(s.anio),1),(0,r.Lk)("button",{onClick:n[2]||(n[2]=(...e)=>c.mesSiguiente&&c.mesSiguiente(...e)),class:"w-9 h-9 sm:w--10 sm:h-10 flex items-center justify-center bg-gray-300 rounded hover:bg-gray-400"},"»"),(0,r.Lk)("button",{onClick:n[3]||(n[3]=(...e)=>c.anioSiguiente&&c.anioSiguiente(...e)),class:"w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center bg-gray-300 rounded hover:bg-gray-400"},"»»")]),(0,r.bF)(o.eB,{name:s.transitionName,mode:"out-in"},{default:(0,r.k6)((()=>[((0,r.uX)(),(0,r.CE)("div",{key:s.anio+"-"+s.mes},[(0,r.Lk)("div",k,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.diasSemana,((e,n)=>((0,r.uX)(),(0,r.CE)("div",{key:n,class:"text-gray-600"},(0,i.v_)(e),1)))),128))]),(0,r.Lk)("div",w,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(c.primerDiaMes,(e=>((0,r.uX)(),(0,r.CE)("div",{key:"vacio-"+e})))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(c.diasEnMes,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:(0,i.C4)(["py-2 rounded-lg font-bold cursor-pointer relative",[c.getClaseTurno(e),c.esHoy(e)?c.getSombraHoy(e)+" animate-pulse":"",s.diaSeleccionado===e?"ring-2 ring-violet-400":"",c.esFeriado(s.anio,s.mes,e)?"border-2 border-black":""]]),onClick:n=>c.seleccionarDia(e)},(0,i.v_)(e),11,y)))),128))])]))])),_:1},8,["name"])]),(0,r.Lk)("div",null,[n[12]||(n[12]=(0,r.Fv)('<div class="mt-6 text-sm" data-v-c27f7052><ul class="space-y-1" data-v-c27f7052><li data-v-c27f7052><span class="inline-block w-4 h-4 bg-red-300 rounded mr-2" data-v-c27f7052></span>Primer turno (22:00 a 06:00)</li><li data-v-c27f7052><span class="inline-block w-4 h-4 bg-green-300 rounded mr-2" data-v-c27f7052></span>Segundo turno (06:00 a 14:00)</li><li data-v-c27f7052><span class="inline-block w-4 h-4 bg-blue-300 rounded mr-2" data-v-c27f7052></span>Tercer turno (14:00 a 22:00)</li><li data-v-c27f7052><span class="inline-block w-4 h-4 border border-gray-300 rounded mr-2" data-v-c27f7052></span>Día libre</li><li data-v-c27f7052><span class="inline-block w-4 h-4 border-2 border-black rounded mr-2" data-v-c27f7052></span>Feriado</li></ul></div>',1)),null!==s.diaSeleccionado?((0,r.uX)(),(0,r.CE)("div",D,[(0,r.Lk)("p",null,[n[7]||(n[7]=(0,r.Lk)("strong",null,"Fecha:",-1)),(0,r.eW)(" "+(0,i.v_)(s.diaSeleccionado)+"/"+(0,i.v_)(s.mes+1)+"/"+(0,i.v_)(s.anio),1)]),(0,r.Lk)("p",null,[n[8]||(n[8]=(0,r.Lk)("strong",null,"Turno:",-1)),(0,r.eW)(" "+(0,i.v_)(c.getDescripcionTurno(s.diaSeleccionado)),1)]),c.esFeriado(s.anio,s.mes,s.diaSeleccionado)?((0,r.uX)(),(0,r.CE)("p",P,[n[9]||(n[9]=(0,r.Lk)("strong",null,"Feriado:",-1)),(0,r.eW)(" "+(0,i.v_)(c.esFeriado(s.anio,s.mes,s.diaSeleccionado)),1)])):(0,r.Q3)("",!0),(0,r.Lk)("p",null,[n[10]||(n[10]=(0,r.Lk)("strong",null,"Releva a:",-1)),(0,r.eW)(" Producción "+(0,i.v_)(c.getProduccionRelevada(s.diaSeleccionado)),1)]),(0,r.Lk)("p",null,[n[11]||(n[11]=(0,r.Lk)("strong",null,"Es relevado por:",-1)),(0,r.eW)(" Producción "+(0,i.v_)(c.getProduccionQueReleva(s.diaSeleccionado)),1)])])):(0,r.Q3)("",!0)])],32)}t(4114);function x(e){const n=Math.floor,t=e%19,o=n(e/100),r=(o-n(o/4)-n((8*o+13)/25)+19*t+15)%30,i=r-n(r/28)*(1-n(29/(r+1))*n((21-t)/11)),a=(e+n(e/4)+i+2-o+n(o/4))%7,s=i-a,c=3+n((s+40)/44),u=s+28-31*n(c/4);return new Date(e,c-1,u)}function C(e){const n=x(e),t=[],o=["Domingo de Ramos","Lunes Santo","Martes Santo","Miércoles Santo","Jueves Santo","Viernes Santo","Sábado Santo"];for(let c=0;c<7;c++){const e=new Date(n);e.setDate(n.getDate()-(7-c)),t.push({fecha:e,nombre:o[c]})}const r=new Date(n);r.setDate(n.getDate()-48);const i=new Date(n);i.setDate(n.getDate()-47);const a=[["01-01","Año Nuevo"],["01-06","Día de Reyes"],["05-01","Día de los Trabajadores"],["05-18","Batalla de las Piedras"],["06-19","Natalicio de Artigas"],["07-18","Jura de la Constitución"],["08-25","Declaratoria de la Independencia"],["10-12","Día de la Raza"],["11-02","Día de los Difuntos"],["12-25","Navidad"]],s={};for(const[c,u]of a)s[`${e}-${c}`]=u;return s[r.toISOString().split("T")[0]]="Carnaval",s[i.toISOString().split("T")[0]]="Carnaval",t.forEach((({fecha:e,nombre:n})=>{s[e.toISOString().split("T")[0]]=n})),s}var L={name:"CalendarioTurnos",props:{produccion:Number},data(){const e=new Date;return{mes:e.getMonth(),anio:e.getFullYear(),diaSeleccionado:null,diasSemana:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],inicioCicloPorProduccion:{1:new Date(2001,9,7),2:new Date(2001,10,3),3:new Date(2001,10,30),4:new Date(2001,11,27)},ciclo:[1,1,1,1,1,0,0,3,3,3,3,3,0,0,2,2,2,2,2,0,0,1,1,1,1,1,1,0,0,3,3,3,3,3,0,0,2,2,2,2,2,0,0,1,1,1,1,1,0,0,3,3,3,3,3,3,0,0,2,2,2,2,2,0,0,1,1,1,1,1,0,0,3,3,3,3,3,0,0,2,2,2,2,2,2,0,1,1,1,1,1,1,0,3,3,3,3,3,3,0,2,2,2,2,2,2,0,0],touchStartX:0,touchDeltaX:0,transitionName:"slide-left",feriadosPorAnio:{}}},computed:{diasEnMes(){return Array.from({length:new Date(this.anio,this.mes+1,0).getDate()},((e,n)=>n+1))},primerDiaMes(){return new Date(this.anio,this.mes,1).getDay()},mesNombre(){return new Date(this.anio,this.mes).toLocaleString("es-ES",{month:"long"})}},methods:{getSombraHoy(e){const n=this.getClaseTurno(e);return n.includes("red")?"bg-red-300":n.includes("green")?"bg-green-300":n.includes("blue")?"bg-blue-300":"bg-gray-200"},esHoy(e){const n=new Date;return n.getDate()===e&&n.getMonth()===this.mes&&n.getFullYear()===this.anio},esFeriado(e,n,t){this.feriadosPorAnio[e]||(this.feriadosPorAnio[e]=C(e));const o=`${e}-${String(n+1).padStart(2,"0")}-${String(t).padStart(2,"0")}`;return this.feriadosPorAnio[e][o]},handleTouchStart(e){this.touchStartX=e.changedTouches[0].clientX},handleTouchMove(e){this.touchDeltaX=e.changedTouches[0].clientX-this.touchStartX},handleTouchEnd(){const e=this.touchDeltaX;this.touchDeltaX=0,Math.abs(e)>50&&(e>0?(this.transitionName="slide-right",this.mesAnterior()):(this.transitionName="slide-left",this.mesSiguiente()))},getClaseTurno(e){const n=new Date(this.anio,this.mes,e),t=this.getTurno(n,this.produccion);switch(t){case 1:return"bg-red-500 text-white";case 2:return"bg-green-500 text-white";case 3:return"bg-blue-500 text-white";default:return"text-black border bg-white"}},getTurno(e,n){const t=this.inicioCicloPorProduccion[n],o=Math.floor((e-t)/864e5),r=(o%108+108)%108;return this.ciclo[r]??0},getDescripcionTurno(e){const n=new Date(this.anio,this.mes,e),t=this.getTurno(n,this.produccion);switch(t){case 1:return"Primer turno (22:00 a 06:00)";case 2:return"Segundo turno (06:00 a 14:00)";case 3:return"Tercer turno (14:00 a 22:00)";default:return"Día libre"}},getProduccionRelevada(e){const n=new Date(this.anio,this.mes,e),t=this.getTurno(n,this.produccion);if(1===t){const n=new Date(this.anio,this.mes,e-1);return this.buscarProduccionPorTurno(n,3)}return 2===t?this.buscarProduccionPorTurno(n,1):3===t?this.buscarProduccionPorTurno(n,2):"ninguna"},getProduccionQueReleva(e){const n=new Date(this.anio,this.mes,e),t=this.getTurno(n,this.produccion);if(1===t)return this.buscarProduccionPorTurno(n,2);if(2===t)return this.buscarProduccionPorTurno(n,3);if(3===t){const n=new Date(this.anio,this.mes,e+1);return this.buscarProduccionPorTurno(n,1)}return"ninguna"},buscarProduccionPorTurno(e,n){for(let t=1;t<=4;t++)if(t!==this.produccion&&this.getTurno(e,t)===n)return t;return"ninguna"},seleccionarDia(e){this.diaSeleccionado=e},mesAnterior(){this.transitionName="slide-right",0===this.mes?(this.mes=11,this.anio--):this.mes--,this.diaSeleccionado=null},mesSiguiente(){this.transitionName="slide-left",11===this.mes?(this.mes=0,this.anio++):this.mes++,this.diaSeleccionado=null},anioAnterior(){this.anio--,this.diaSeleccionado=null},anioSiguiente(){this.anio++,this.diaSeleccionado=null}}};const X=(0,m.A)(L,[["render",T],["__scopeId","data-v-c27f7052"]]);var E=X,_={name:"App",components:{SelectorProduccion:p,CalendarioTurnos:E},data(){return{produccion:localStorage.getItem("produccion")||null}},methods:{guardarProduccion(e){this.produccion=e,localStorage.setItem("produccion",e)},resetProduccion(){localStorage.removeItem("produccion"),this.produccion=null}}};const A=(0,m.A)(_,[["render",c]]);var M=A;(0,o.Ef)(M).mount("#app")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return e[o].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(n,o,r,i){if(!o){var a=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],i=e[l][2];for(var s=!0,c=0;c<o.length;c++)(!1&i||a>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[c])}))?o.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(l--,1);var u=r();void 0!==u&&(n=u)}}return n}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,r,i]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,i,a=o[0],s=o[1],c=o[2],u=0;if(a.some((function(n){return 0!==e[n]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(c)var l=c(t)}for(n&&n(o);u<a.length;u++)i=a[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(l)},o=self["webpackChunkturnos_taba"]=self["webpackChunkturnos_taba"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(5343)}));o=t.O(o)})();
//# sourceMappingURL=app.210deb8c.js.map